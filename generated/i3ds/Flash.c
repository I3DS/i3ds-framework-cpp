/*
Code automatically generated by asn1scc tool
*/
#include <limits.h>
#include <string.h>
#include <math.h>
#include "Flash.h"



void FlashSetup_Initialize(FlashSetup* pVal)
{


	/*set duration */
	T_UInt32_Initialize((&(pVal->duration)));
	/*set strength */
	T_UInt8_Initialize((&(pVal->strength)));
}

flag FlashSetup_IsConstraintValid(const FlashSetup* pVal, int* pErrCode)
{
    flag ret = TRUE;
	
    ret = (pVal->duration <= 4294967295UL);
    *pErrCode = ret ? 0 :  ERR_FLASHSETUP_DURATION; 
    if (ret) {
        ret = (pVal->strength <= 255UL);
        *pErrCode = ret ? 0 :  ERR_FLASHSETUP_STRENGTH; 
    }

	return ret;
}

flag FlashSetup_Encode(const FlashSetup* pVal, BitStream* pBitStrm, int* pErrCode, flag bCheckConstraints)
{
    flag ret = TRUE;
	ret = bCheckConstraints ? FlashSetup_IsConstraintValid(pVal, pErrCode) : TRUE ;
	if (ret) {
	    /*Encode duration */
	    ret = ShutterTime_Encode((&(pVal->duration)), pBitStrm, pErrCode, FALSE);
	    if (ret) {
	        /*Encode strength */
	        ret = FlashStrength_Encode((&(pVal->strength)), pBitStrm, pErrCode, FALSE);
	    }
    } /*COVERAGE_IGNORE*/

	
    return ret;
}

flag FlashSetup_Decode(FlashSetup* pVal, BitStream* pBitStrm, int* pErrCode)
{
    flag ret = TRUE;

	/*Decode duration */
	ret = ShutterTime_Decode((&(pVal->duration)), pBitStrm, pErrCode);
	if (ret) {
	    /*Decode strength */
	    ret = FlashStrength_Decode((&(pVal->strength)), pBitStrm, pErrCode);
	}

	return ret  && FlashSetup_IsConstraintValid(pVal, pErrCode);
}

